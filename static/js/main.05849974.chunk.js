(this["webpackJsonpzomato-page"]=this["webpackJsonpzomato-page"]||[]).push([[0],{104:function(e,t,r){},105:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),s=r(16),a=r.n(s),i=(r(50),r(19)),l=r(5),o=r(7),u=r(23),d=r(27),m=r(22),j=r(44),f=r(30),b=r(3),x=r(107),h=r(17),p=(r(32),r(2)),O=function(e){return Object(p.jsxs)("div",{className:"cities--drop-down absolute flex flex-col bg-white rounded-md h-64 w-full md:w-3/5 overflow-scroll",children:[Object(p.jsxs)("div",{onClick:function(){navigator.geolocation.getCurrentPosition((function(e){console.log(e.coords)}),(function(e){console.log(e.message)}))},className:"cursor-pointer hover:bg-gray-100 border-b p-4 mb-4 flex items-center",children:[Object(p.jsx)(h.c,{color:"#e8596a",size:"1.2rem"}),Object(p.jsx)("h4",{className:"ml-2 text-red-600",children:"Detect current location"})]}),Object(p.jsx)("h3",{className:"cursor-pointer p-4 text-gray-500",children:"Popular Locations"}),Object(p.jsx)("ul",{children:e.citiesList.map((function(t){return Object(p.jsx)("li",{onClick:function(){e.selectedCity(t)},className:"cursor-pointer hover:bg-gray-100 border-b p-4",children:t.name},t.id)}))})]})},g=r(18),v=r.n(g),y=r(21),w=r(13),N=r(14),_=r(43),k=r.n(_).a.create({baseURL:"https://developers.zomato.com/api/v2.1/",headers:{"user-key":"33a7282f1c4dcc7e978325683859caa8"}}),C=Object(w.b)("restaurantState/fetchRestaurants",function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.q,n=t.entity_id,e.next=3,k.get("/search",{params:{q:r,entity_id:n,count:20,entity_type:"city"}});case 3:if(c=e.sent,e.prev=4,s=[],c.data.restaurants.map((function(e){var t=e.restaurant;s.push(t)})),s.length){e.next=9;break}return e.abrupt("return",Promise.reject(new Error("No results found")));case 9:return e.abrupt("return",s);case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}()),S=Object(w.b)("selectedRestaurant,fetchRestaurant",function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n,c,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.q,n=t.res_id,e.next=3,k.get("/restaurant",{params:{q:r,res_id:n}});case 3:if(c=e.sent,e.prev=4,s=c.data){e.next=8;break}return e.abrupt("return",Promise.reject(new Error("No results found")));case 8:return e.abrupt("return",s);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",Promise.reject(e.t0));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}()),R=Object(w.c)({name:"restaurauntState",initialState:{restaurants:null,loading:!1,error:!1},reducers:{},extraReducers:function(e){e.addCase(C.pending,(function(e){e.loading=!0})),e.addCase(C.fulfilled,(function(e,t){return{restaurants:t.payload,loading:!1,error:!1}})),e.addCase(C.rejected,(function(e){return{restaurants:null,loading:!1,error:!0}}))}}),z=Object(w.c)({name:"selectedRestaurant",initialState:null,reducers:{select:function(e,t){return t.payload}},extraReducers:function(e){e.addCase(S.fulfilled,(function(e,t){return t.payload})),e.addCase(S.rejected,(function(e){return null}))}}),E=z.actions.select,L=Object(N.b)({restaurantState:R.reducer,selectedRestaurant:z.reducer}),q=function(e){var t=e.restaurant,r=Object(o.b)();return Object(p.jsxs)(i.b,{onClick:function(){r(E(t))},to:function(){var e=t.url.slice(23,t.url.lastIndexOf("?"));return"/".concat(e,"-").concat(t.R.res_id)}(),className:"flex justify-start p-4 hover:bg-gray-100 cursor-pointer",children:[Object(p.jsx)("div",{className:"h-16 w-16 flex items-center justify-center mr-4 rounded-md overflow-hidden",children:t.thumb?Object(p.jsx)("img",{className:"bg-cover bg-no-repeat text-sm",src:t.thumb,alt:t.cuisines}):Object(p.jsx)(h.b,{color:"#899db7",size:"100%"})}),Object(p.jsxs)("div",{className:"flex flex-col justify-evenly",children:[Object(p.jsx)("h1",{children:t.name}),0===t.user_rating.aggregate_rating?null:Object(p.jsxs)("div",{className:"flex items-center h-3 w-3 my-2 bg-black rounded-sm",children:[Object(p.jsx)("div",{children:Object(p.jsx)(m.c,{size:".75rem",color:"#fff"})}),Object(p.jsx)("h1",{className:"mx-2",children:t.user_rating.aggregate_rating}),Object(p.jsxs)("h1",{className:"text-sm text-gray-600 font-hairline",children:["(",t.user_rating.votes,")"]})]}),Object(p.jsxs)("div",{className:"flex text-sm font-hairline text-gray-600",children:[Object(p.jsx)("p",{children:function(e){var t=e.split(",");return 2===t.length?(t.shift(),t.join("")):e}(t.location.locality)}),Object(p.jsxs)("p",{children:[", ",t.location.city]})]})]})]})},P=function(e){return Object(p.jsx)(p.Fragment,{children:function(){var t=e.restaurants[0],r=t.name.split(" ");return e.restaurants.every((function(e){return e.name.startsWith(r[0])}))?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"flex items-center justify-between ml-4 mr-2 pt-6 pb-2",children:[Object(p.jsx)("h1",{className:"text-sm text-gray-600",children:"Top Restaurants"}),Object(p.jsxs)("h3",{className:"view-all text-sm text-red-500 cursor-pointer",children:["View all outlets"," ",Object(p.jsx)("span",{className:"view-arrow inline-block text-xl",children:"\u2192"})]})]}),Object(p.jsxs)("h2",{className:"ml-4",children:["View all ",t.name," outlets"]})]}):Object(p.jsxs)("div",{className:"flex items-center ml-4 pt-6 pb-2 hover:bg-gray-100",children:[t.thumb?Object(p.jsx)("img",{className:"rounded-md h-16 w-16 bg-cover bg-no-repeat break-words",src:t.thumb,alt:"cuisine"}):Object(p.jsx)(h.b,{size:"4rem",color:"#899db7"}),Object(p.jsxs)("div",{className:"flex flex-col ml-4",children:[Object(p.jsx)("h1",{children:t.cuisines}),Object(p.jsx)("h1",{className:"text-sm font-hairline text-gray-600",children:"Cuisine"})]})]})}()})},T=function(){var e=Object(o.c)((function(e){return e.restaurantReducer.restaurantState})),t=function(){var t=e.restaurants;return t.length>10?t.slice(0,10):t};return Object(p.jsx)("div",{className:"absolute top-0 right-0 z-20 flex flex-col bg-white rounded-md h-64 w-full md:w-9/12 lg:w-7/12 overflow-scroll",children:e.error||null===e.restaurants?Object(p.jsx)("p",{className:"ml-4 mt-8",children:"No results found =("}):e.restaurants&&Object(p.jsxs)("div",{children:[Object(p.jsx)(P,{restaurants:t()}),Object(p.jsx)("ul",{children:t().map((function(e){return Object(p.jsx)("li",{children:Object(p.jsx)(q,{restaurant:e})},e.id)}))})]})})};var M,V,A=function(e,t){Object(n.useEffect)((function(){var r=function(r){e.current&&!e.current.contains(r.target)&&t(r)};return document.addEventListener("mousedown",r),document.addEventListener("touchstart",r),function(){document.removeEventListener("mousedown",r),document.removeEventListener("touchstart",r)}}),[t,e])},B=[{id:278,name:"Austin, TX",country_id:216,country_name:"United States",country_flag_url:"https://b.zmtcdn.com/images/countries/flags/country_216.png",should_experiment_with:0,has_go_out_tab:0,discovery_enabled:1,has_new_ad_format:0,is_state:0,state_id:111,state_name:"Texas",state_code:"TX"}],D=function(e){var t=[];return e=e.toLowerCase().split("").filter((function(e){return!e.includes(" ")&&!e.includes(",")})).join(""),t.push(e),t},U=Object(w.b)("cities/fetchCity",function(){var e=Object(y.a)(v.a.mark((function e(t){var r,n,c,s,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.q,e.prev=1,n=[],e.next=5,k.get("/cities",{params:{q:r}});case 5:if(c=e.sent,s=c.data.location_suggestions,a=D(r),s.map((function(e){D(e.name).map((function(t){t===a[0]&&n.push(e)}))})),!n.length){e.next=13;break}return e.abrupt("return",n);case 13:return e.abrupt("return",s.length?s:Promise.reject(new Error("No results found")));case 14:e.next=19;break;case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",Promise.reject(e.t0));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()),F=Object(w.c)({name:"citiesState",initialState:{cities:B,loading:!1,error:!1},reducers:{},extraReducers:function(e){e.addCase(U.pending,(function(e){e.loading=!0})),e.addCase(U.fulfilled,(function(e,t){var r=t.payload,n=[];return r.map((function(e){n.push(e)})),{cities:n,loading:!1,error:!1}})),e.addCase(U.rejected,(function(e){return{cities:B,loading:!1,error:!0}}))}}),G=Object(w.c)({name:"selectedCity",initialState:null,reducers:{select:function(e,t){return t.payload}}}),I=G.actions.select,J=Object(N.b)({citiesState:F.reducer,selectedCity:G.reducer}),X=(r(78),Object(b.css)(M||(M=Object(d.a)(["\n  margin: 0 0.4rem;\n  margin-right: 1rem;\n"])))),H=Object(b.css)(V||(V=Object(d.a)(["\n  margin: 0 0.1rem;\n"]))),W=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.homeReducer.citiesState.cities})),r=Object(o.c)((function(e){return e.restaurantReducer.restaurantState.restaurants})),c=Object(o.c)((function(e){return e.homeReducer.selectedCity})),s=Object(o.c)((function(e){return e.homeReducer.citiesState.loading})),a=Object(o.c)((function(e){return e.restaurantReducer.restaurantState.loading})),i=Object(n.useState)(""),l=Object(u.a)(i,2),d=l[0],b=l[1],h=Object(n.useState)(""),g=Object(u.a)(h,2),v=g[0],y=g[1],w=Object(n.useState)(!1),N=Object(u.a)(w,2),_=N[0],k=N[1],S=Object(n.useState)(!1),R=Object(u.a)(S,2),z=R[0],E=R[1],L=Object(n.useRef)(null);Object(n.useEffect)((function(){t.length>1&&k(!0)}),[t]),Object(n.useEffect)((function(){!a&&r?E(!0):a||null!==r||E(!0)}),[a,r]),Object(n.useEffect)((function(){_&&E(!1)}),[_]),Object(n.useEffect)((function(){z&&k(!1)}),[z]),Object(n.useEffect)((function(){k(!1),E(!1)}),[]);var q=Object(n.useCallback)((function(){_&&k(!1),z&&E(!1)}),[_,z]);A(L,q);var P=t.find((function(e){return e===c}));return Object(p.jsxs)("form",{ref:L,onClick:function(e){e.stopPropagation()},onSubmit:function(r){r.preventDefault(),d.length?(e(U({q:d})),b("")):(e(C({q:v,entity_id:P?P.id:t[0].id})),y(""))},className:"searchbar-shadow relative flex justify-evenly items-center h-12 w-11/12 md:w-7/12 xl:w-6/12 my-3 pl-1 bg-white rounded-md",children:[s?Object(p.jsx)(f.BounceLoader,{css:X,size:15,color:"#e8596a",loading:s}):Object(p.jsx)(m.b,{color:"#e8596a",className:"mr-1",size:"3rem"}),Object(p.jsx)("input",{className:"h-full w-full md:w-2/4 placeholder-gray-600 mr-2 rounded-md",type:"text",name:"city",placeholder:P?P.name:t[0].name,value:d,onChange:function(e){b(e.target.value),k(!1),E(!1)}}),Object(p.jsx)("input",{type:"checkbox",className:"checkbox-arrow z-20 opacity-0 cursor-pointer",onChange:function(){k(!_),E(!1)},checked:_}),Object(p.jsx)(x.a,{in:_,classNames:"cities--drop-down-",timeout:200,unmountOnExit:!0,children:Object(p.jsx)(O,{citiesList:t,selectedCity:function(t){e(I(t)),k(!1)}})}),Object(p.jsx)(m.a,{className:"arrow absolute",color:"#4f4f4f",size:"1.2rem"}),Object(p.jsx)("p",{className:"text-gray-500 text-xl mx-1",children:"|"}),Object(p.jsx)("input",{className:"h-full w-full placeholder-gray-600 rounded-md",type:"text",name:"query",placeholder:"Search for restaurant, cuisine or a dish",value:v,onChange:function(e){y(e.target.value),E(!1),k(!1)}}),Object(p.jsx)("input",{type:"checkbox",className:"checkbox-restaurant hidden",onChange:function(){E(!z),k(!1)},checked:z}),Object(p.jsx)(x.a,{in:z,classNames:"restaurants--drop-down- restaurants--container-",timeout:200,unmountOnExit:!0,children:Object(p.jsx)("div",{onClick:function(e){E(!1)},className:"restaurants--container h-full w-full",children:Object(p.jsx)(T,{})})}),Object(p.jsx)("button",{type:"submit",className:"hover:bg-red-600 flex items-center focus:outline-none h-full bg-red-500 px-4 rounded-r-md",children:a?Object(p.jsx)(f.BounceLoader,{css:H,size:16,color:"#fff",loading:a}):Object(p.jsx)(j.a,{color:"#fff",size:"1.2rem"})})]})},K=function(){return Object(p.jsxs)("div",{className:"flex flex-col md:flex-row md:items-start h-screen justify-center items-center",children:[Object(p.jsx)("section",{className:"meal-image flex items-end w-full m-4 rounded-lg border border-gray-300 overflow-hidden cursor-pointer",children:Object(p.jsxs)("div",{className:"bg-white w-full h-32 text-center md:h-20 p-4",children:[Object(p.jsx)("h4",{className:"font-medium text-xl",children:"Go out for a meal"}),Object(p.jsx)("p",{className:"text-lg",children:"View the city's favorite dining venues"})]})}),Object(p.jsx)("section",{className:"categories-image flex items-end w-full m-4 rounded-lg border border-gray-300 overflow-hidden cursor-pointer",children:Object(p.jsxs)("div",{className:"bg-white w-full h-32 text-center md:text-left md:h-20 p-4",children:[Object(p.jsx)("h4",{className:"font-medium text-xl",children:"Nightlife & Clubs"}),Object(p.jsx)("p",{className:"text-lg",children:"Explore the city's top nightlife outlets"})]})})]})},Q=(r(104),function(){var e=Object(o.c)((function(e){return e.homeReducer.selectedCity})),t=Object(o.c)((function(e){return e.homeReducer.citiesState.cities}));Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]);return Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:"header-image flex flex-col justify-center items-center h-screen-90",children:[Object(p.jsx)("em",{className:"zomato-title",children:"zomato"}),Object(p.jsxs)("h2",{className:"header-two font-sans font-medium text-center text-4xl text-white my-2",children:["Discover the best food & drinks in"," ",Object(p.jsx)("span",{className:"font-sans font-semibold text-4xl text-white",children:function(){var r=t.find((function(t){return t.name===(null===e||void 0===e?void 0:e.name)}));return(null===r||void 0===r?void 0:r.name)?r.name:t[0].name}()})]}),Object(p.jsx)(W,{})]}),Object(p.jsx)("div",{className:"flex flex-col mx-20 content-between",children:Object(p.jsx)(K,{})})]})}),Y=r(31),Z=function(e){var t=e.details;return Object(p.jsxs)("div",{className:"flex justify-between h-screen-50 my-4",children:[Object(p.jsxs)("div",{className:"flex items-start flex-col",children:[Object(p.jsx)("h1",{className:"text-3xl cursor-pointer leading-tight",children:t.name}),Object(p.jsx)("p",{className:"font-hairline text-gray-700 cursor-pointer",children:t.cuisines}),Object(p.jsx)("p",{className:"hover:text-gray-700 font-hairline text-gray-500 cursor-pointer",children:t.location.locality}),Object(p.jsx)("p",{className:"text-sm flex font-hairline text-gray-600",children:t.timings})]}),Object(p.jsxs)("div",{className:"flex items-center flex-col",children:[Object(p.jsxs)("div",{className:"flex items-center",children:[function(){var e=Math.floor(t.user_rating.aggregate_rating);return Object(p.jsx)("div",{className:"flex justify-evenly",children:Array(e).fill(Object(p.jsx)(Y.a,{className:"bg-black p-1 mr-2 rounded-sm",size:"20",color:"#fff"}))})}(),function(){if(t.user_rating.aggregate_rating%1!==0)return Object(p.jsx)(Y.a,{className:"star-fill p-1 mr-2 rounded-sm",size:"20",color:"#fff"})}(),Object(p.jsx)("p",{className:"text-lg text-gray-900 ml-1",children:t.user_rating.aggregate_rating})]}),Object(p.jsxs)("p",{className:"text-gray-700 border-b border-dashed border-gray-500 cursor-pointer",children:[t.all_reviews_count," Reviews"]})]})]})},$=(r(42),r.p+"static/media/cuisine-1.66b72550.jpg"),ee=r.p+"static/media/cuisine-2.514d39f7.jpg",te=r.p+"static/media/cuisine-3.b6184a23.jpg",re=r.p+"static/media/cuisine-4.e5496784.jpg",ne=r.p+"static/media/cuisine-5.ed92b16b.jpg",ce=function(){var e=function(){switch(Math.floor(4*Math.random())+1){case 2:return ee;case 3:return te;case 4:return re;case 5:return ne;default:return $}};return Object(p.jsxs)("div",{className:"grid-layout h-screen-60 gap-2",children:[Object(p.jsx)("img",{className:"hover:scale-x-50 col-span-12 row-span-2 md:col-span-8 md:row-span-6 h-full w-full cursor-pointer",src:e(),alt:"cuisine"}),Object(p.jsx)("img",{className:"hover:scale-125 col-span-6 row-span-2 md:col-span-2 md:row-span-3 h-full w-full cursor-pointer",src:e(),alt:"cuisine"}),Object(p.jsx)("div",{className:"view-gallery flex justify-center items-center col-span-6 row-span-2 md:col-span-2 md:row-span-3 h-full w-full text-white font-hairline cursor-pointer",children:"View Gallery"}),Object(p.jsx)("img",{className:"col-span-6 row-span-2 md:col-start-9 md:col-span-2 md:row-span-3 h-full w-full cursor-pointer",src:e(),alt:"cuisine"})," ",Object(p.jsxs)("div",{className:"add-photo flex flex-col justify-center items-center col-span-6 row-span-2 md:col-start-11 md:col-span-2 md:row-span-3 h-full w-full text-white font-hairline cursor-pointer",children:[Object(p.jsx)(h.a,{size:"40",color:"#fff",className:"bg-gray-900 opacity-50 rounded-full p-2"}),"Add Photos"]})]})},se=function(){var e=Object(o.c)((function(e){return e.restaurantReducer.selectedRestaurant})),t=Object(l.f)(),r=Object(o.b)();return Object(n.useEffect)((function(){e||function(){var e=t.restaurant,n=(e=e.split("-")).slice(e.length-1);e.splice(e.length-1),e=e.join(" "),r(S({q:e,res_id:n[0]}))}()}),[e]),Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(p.jsxs)("div",{className:"flex flex-col",children:[Object(p.jsxs)("div",{className:"flex flex-col md:flex-row justify-evenly items-center border-b pb-1 mx-2",children:[Object(p.jsxs)("div",{className:"flex items-center md:hidden",children:[Object(p.jsx)("h2",{className:"hover:text-gray-800 font-hairline text-gray-600 mr-8 cursor-pointer",children:"Login"}),Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("em",{className:"zomato-header cursor-pointer",children:"zomato"})}),Object(p.jsx)("h2",{className:"hover:text-gray-800 text-base font-hairline text-gray-600 ml-8 cursor-pointer",children:"Signup"})]}),Object(p.jsx)(i.b,{to:"/",children:Object(p.jsx)("em",{className:"hidden md:block zomato-header cursor-pointer",children:"zomato"})}),Object(p.jsx)(W,{}),Object(p.jsxs)("div",{className:"hidden md:flex justify-evenly md:justify-start lg:justify-start",children:[Object(p.jsx)("h2",{className:"md:block lg:block hover:text-gray-800 text-base font-hairline text-gray-600 mr-8 cursor-pointer",children:"Login"}),Object(p.jsx)("h2",{className:"md:block hover:text-gray-800 text-base font-hairline text-gray-600 mr-2 cursor-pointer",children:"Signup"})]})]}),e?Object(p.jsxs)("div",{className:"flex flex-col md:mx-24 mx-2 my-3",children:[Object(p.jsxs)("div",{className:"hidden md:flex mb-2",children:[Object(p.jsx)("span",{className:"hover:text-red-600 text-xs text-gray-600 mr-1 md:mr-2 cursor-pointer",children:"Home"}),Object(p.jsx)("span",{className:"text-xs text-gray-600 mr-1 md:mr-2",children:"/"}),Object(p.jsx)("span",{className:"hover:text-red-600 text-xs text-gray-600 mr-1 md:mr-2 cursor-pointer",children:"United States"}),Object(p.jsx)("span",{className:"text-xs text-gray-600 mr-1 md:mr-2",children:"/"}),Object(p.jsx)("span",{className:"hover:text-red-600 text-xs text-gray-600 mr-1 md:mr-2 cursor-pointer",children:e.name})]}),Object(p.jsx)(ce,{}),Object(p.jsx)(Z,{details:e})]}):Object(p.jsx)("div",{className:"min-h-screen min-w-screen",children:"Loading"})]})};var ae=function(){return Object(p.jsx)(i.a,{children:Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{path:"/:city/:restaurant",exact:!0,component:se}),Object(p.jsx)(l.a,{path:"/",component:Q})]})})},ie=Object(w.a)({reducer:{homeReducer:J,restaurantReducer:L}});a.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(o.a,{store:ie,children:Object(p.jsx)(ae,{})})}),document.getElementById("root"))},32:function(e,t,r){},42:function(e,t,r){},50:function(e,t,r){},78:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.05849974.chunk.js.map